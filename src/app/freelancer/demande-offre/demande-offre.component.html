<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">



<mat-drawer-container>
    <mat-drawer mode="side" [opened]="sideBarOpen">
      <!-- <mat-drawer mode="side" opened="true"> -->
      <app-sidenav></app-sidenav>
    </mat-drawer>
    <mat-drawer-content>
  
<app-navbar></app-navbar>
 <app-header (toggleSidebarForMe)="sideBarToggler()"></app-header> 
  <div class="container-fluid page">
    
  <!-- <div class="d-flex page__box p-3 mt-2" style="color: azure">Demandes ValidÃ©e</div> -->
  

  <div class="mydict">
    <div>
      
      <label>
        <input type="radio" name="radio" [(ngModel)]="selectedOption" value="En Cours" (change)="onRadioChange()">
        <span>En Cours</span>
      </label>
      <label>
        <input type="radio" name="radio" [(ngModel)]="selectedOption" value="Valider" (change)="onRadioChange()">
        <span>Valider</span>
      </label>
      <label>
        <input type="radio" name="radio" [(ngModel)]="selectedOption" value="Annuler" (change)="onRadioChange()">
        <span>Annuler</span>
      </label>
    </div>
  </div>
  

<br>



  
  
  <div class="content">
    <div class="container">
        
        <!-- end row -->
        <div class="row" >
            <div class="col-lg-4" *ngFor="let demande of demandes">
                <div class="text-center card-box">
                    <div class="member-card pt-2 pb-2">
                        <div class="thumb-lg member-thumb mx-auto" *ngFor="let image of demande.offre?.productImagess">
                            <img [src]="'data:' + image.type + ';base64,' + image.picByte" alt="{{ image.name }}" class="rounded-circle img-thumbnail" ></div>
                       <br>
                            <div class="">
                            <h4>{{demande.entreprise?.firstname}} {{demande.entreprise?.lastname}}</h4>
                            <p class="text-muted">{{demande.entreprise?.email}} <span> </span><span><a class="text-pink"></a></span></p>
                       
                        </div>
                       
  
                        <button type="button" class="btn btn-primary mt-3 btnn-rounded waves-effect w-md waves-light buttonn"  (click)="validerDemande(demande.id)" *ngIf="demande.etatD === 'En_Cours' ">Accepter</button> &nbsp;
  
                        <button type="button" class="btn btn-primary mt-3 btn-rounded waves-effect w-md waves-light" (click)="annulerDemande(demande.id)" *ngIf="demande.etatD === 'En_Cours' ">Refuser</button> 
  
                        
                        
                        
  
  
                        <div class="mt-4">
                            <div class="row">
                               
                                <div class="col-5">
                                    <div class="mt-3">
                                        <h4>{{demande.date_demande | date: 'yyyy-MM-dd'}}</h4>
                                        <p class="mb-0 text-muted">Date D'envoie'</p>
                                    </div>
                                </div>
                                <div class="col-5">
                                    <div class="mt-3">
                                        <h4>{{demande.entreprise?.nomEntreprise}} </h4>
                                        <p class="mb-0 text-muted">Entreprise</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-5">
                                <div class="mt-3">
                                    <h4>{{demande.entreprise?.numTel}} </h4>
                                    <p class="mb-0 text-muted">NumÃ©ro</p>
                                </div>
                            </div>

                            <div class="col-5">
                                <div class="mt-3">
                                    <h4>{{demande.etatD}} </h4>
                                    <p class="mb-0 text-muted">Etat</p>
                                </div>
                            </div>

                            


                      </div>
  
                    </div>
                </div>
            </div>
        </div></div></div>
  
  
  
  

    
  </div>
  
  
  
  </mat-drawer-content>
  </mat-drawer-container>
